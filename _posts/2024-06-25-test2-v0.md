---
layout: post
title: Test2::V0
published: yes
tags:
  - perl
  - Test::More
  - Test2::V0
  - test
  - unit tests
---
I really like the unit testing in perl and in fact I adopted the testing approaches and test-driven development in that land. For years I used [Test::More][1] and was rather happy with it. You can find number of examples of its use on this site, for example in [this post about date parsing]({% post_url 2010-10-22-date-parsing %}).

When I was reading this year's perl Advent calendar, I run into an article on how the testing modules progressed - [Test2::V0][2]. At the first sight it is rather similar, but comes with a more polished interface and many useful comparison tools.

```perl
use Test2::V0;

# test loading of a module
use ok 'Test2::V0';

# basic checks
ok 1, 'True test';
ok 0, 'False test', 'Output extra stuff';
is 1, 1, 'Comparison';

# structure comparisons
my $data = { a => 1, b => 2 };
is $data, { b => 2, a => 1 }, 'Compare structures';
is $data, { a => 1, b => 3 }, 'Failed comparison of structures';
like 'string', qr/str/, 'Regex comparison';
like $data, { a => 1 }, 'Only check part of structure';

# more advanced checks
is [1, 3, 2], bag { item 1; item 2; item 3; end }, 'set comparison';

done_testing;
```

Here is the documentation of all [advanced checks][3]. 

[1]: https://metacpan.org/pod/Test::More
[2]: https://perladvent.org/2023/2023-12-15.html
[3]: https://metacpan.org/pod/Test2::Tools::Compare
